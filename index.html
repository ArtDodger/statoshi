<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Statoshi by jlopp</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Statoshi</h1>
          <h2>Realtime Bitcoin Node Statistics</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/jlopp/statoshi/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/jlopp/statoshi/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/jlopp/statoshi" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p><img src="http://lopp.net/images/statoshi.png" alt=""></p>

<h1>
<a id="installation-and-dependencies" class="anchor" href="#installation-and-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation and Dependencies</h1>

<p>1) Install <a href="http://nodejs.org/download/">node.js</a></p>

<p>2) Install <a href="https://github.com/etsy/statsd">StatsD</a>.</p>

<pre><code>Create a config file copied from exampleConfig.js
Start the daemon: node stats.js /path/to/your/config.js
</code></pre>

<p>3) <a href="https://httpd.apache.org/download.cgi">Download</a> and install Apache HTTPD Server. If you’re running Linux, it’s probably easier to install via your package manager.</p>

<p>4) Install software to visualize the stats collected by StatsD. We recommend <a href="http://graphite.wikidot.com/installation">Graphite</a>. Make sure you install a version newer than 0.9.12 for <a href="http://grafana.org/docs/performance/">maximum Grafana performance.</a>
For Graphite, once you have it installed you’ll want to configure how it stores the data from StatsD, in the graphite/conf/storage-schemas.conf:</p>

<pre><code>[carbon]
pattern = ^carbon\.
retentions = 10:2160,60:10080,600:262974

[stats]
priority = 110
pattern = ^stats\..*
retentions = 10:2160,60:10080,600:262974

[default]
pattern = .*
retentions = 10:2160,60:10080,600:262974
</code></pre>

<p>To prevent loss of sparse data you'll also need to modify Graphite's graphite/conf/storage-aggregation.conf:
    [min]
    pattern = .min$
    xFilesFactor = 0.0
    aggregationMethod = min</p>

<pre><code>[max]
pattern = \.max$
xFilesFactor = 0.0
aggregationMethod = max

[sum]
pattern = \.count$
xFilesFactor = 0.0
aggregationMethod = sum

[default_average]
pattern = .*
xFilesFactor = 0.0
aggregationMethod = average
</code></pre>

<p>5) Download (or git clone) the Statoshi fork:</p>

<pre><code>    jameson@lopp:~/workspace/$ git clone https://github.com/jlopp/statoshi.git
    Cloning into ‘statoshi’…
    remote: Reusing existing pack: 35655, done.
    remote: Total 35655 (delta 0), reused 0 (delta 0)
    Receiving objects: 100% (35655/35655), 26.56 MiB | 2.37 MiB/s, done.
    Resolving deltas: 100% (25766/25766), done.
    Checking connectivity… done
</code></pre>

<p>6) Compile the project. This can be a bit tricky if it's your first time due to the dependencies; you'll likely want to read the documentation:</p>

<ul>
<li>Linux build notes are <a href="https://github.com/jlopp/statoshi/blob/master/doc/build-unix.md">here</a>
</li>
<li>OSX build notes are <a href="https://github.com/jlopp/statoshi/blob/master/doc/build-osx.md">here</a>
</li>
<li>Windows build notes are <a href="https://github.com/jlopp/statoshi/blob/master/doc/build-msw.md">here</a>
</li>
</ul>

<p>Once you think you have all of the dependencies installed, build the project. For Linux, the commands are:</p>

<pre><code>    jameson@lopp:~/$ cd /path/to/statoshi/
    jameson@lopp:~/workspace/statoshi/$ ./autogen.sh
    jameson@lopp:~/workspace/statoshi/$ ./configure
    jameson@lopp:~/workspace/statoshi/$ make
</code></pre>

<p>It may take 20+ minutes to build, depending upon the speed of your computer. If you’re missing a dependency, you should receive an error noting what is missing.</p>

<p>Note that the Statoshi project assumes that you are running StatsD on the same machine as your Bitcoin Node. If you wish to run StatsD on a different machine or non-default port, you’ll need to edit the default configuration on line 16 of <strong>/statoshi/src/statsd_client.h</strong> before building the project.</p>

<p>7) Start your Statoshi node (either the GUI or the command line daemon) - the Linux commands for them are:</p>

<pre><code>    GUI: /path/to/statoshi/src/qt/bitcoin-qt &amp;
    Daemon: /path/to/statoshi/src/bitcoind &amp;
</code></pre>

<p>Now you can check out the stats as they roll in to Graphite; you should see graphs begin to be populated within 30 seconds!</p>
        </section>

        <footer>
          Statoshi is maintained by <a href="https://github.com/jlopp">jlopp</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>